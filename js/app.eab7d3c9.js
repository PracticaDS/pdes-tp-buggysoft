(function(t){function e(e){for(var c,r,o=e[0],s=e[1],u=e[2],p=0,f=[];p<o.length;p++)r=o[p],a[r]&&f.push(a[r][0]),a[r]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],c=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(c=!1)}c&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var c={},a={app:0},i=[];function r(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=c,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)r.d(n,c,function(e){return t[e]}.bind(null,c));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/pdes-tp-buggysoft/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"18c4":function(t,e,n){"use strict";var c=n("7e18"),a=n.n(c);a.a},"21bb":function(t,e,n){"use strict";var c=n("bcc9"),a=n.n(c);a.a},"3fbd":function(t,e,n){"use strict";var c=n("9981"),a=n.n(c);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var c=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r=(n("5c0b"),n("2877")),o={},s=Object(r["a"])(o,a,i,!1,null,null,null),u=s.exports,l=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home p1"},[n("div",{staticClass:"p1"},[n("span",{staticClass:"text-primary"},[t._v("Ganancias ")]),n("span",{staticClass:"label"},[t._v("$"+t._s(Number(t.earnings).toFixed(2)))])]),n("div",{staticClass:"flex"},[n("ToolBox"),n("Factory",{attrs:{rows:t.rows}}),n("Details",{attrs:{currentMachine:t.currentMachine}})],1),t._m(0)])},f=[function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("footer",[c("p",{staticClass:"text-small subtle"},[t._v("A game developed by")]),c("img",{staticClass:"hover",attrs:{height:"200px",alt:"Buggysoft logo",src:n("b35e")}})])}],m=n("2f62"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar"},[n("p",{staticClass:"text-primary hp1"},[t._v("Detalles")]),t.currentMachine.name?n("div",{staticClass:"section text-small"},[n("p",[t._v(t._s(t.currentMachine.name))]),n("p",[t._v("Costo: "),n("span",{staticClass:"text-accent"},[t._v("$"+t._s(t.currentMachine.cost))])]),n("p",[t._v("Frecuencia: "),n("span",{staticClass:"text-accent"},[t._v(t._s(t.currentMachine.speed)+"/s")])])]):n("div",{staticClass:"section text-small"},[n("i",[t._v("Seleccione una maquina")])])])},d=[],b={name:"Details",props:{currentMachine:Object}},v=b,g=Object(r["a"])(v,h,d,!1,null,null,null),y=g.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid"},t._l(t.rows,function(t,e){return n("Row",{key:e,attrs:{number:e,columns:t}})}),1)},C=[],M=(n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},t._l(t.columns,function(e,c){return n("Cell",{key:c,attrs:{position:[t.number,c]}})}),1)}),k=[],O=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cell",on:{click:function(e){return t.applyActionToCell(t.position)}}},[t.content.machine.name?n("Machine",{attrs:{machine:t.content.machine}}):t._e()],1)}),j=[],w=n("768b"),x=n("cebc"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{staticClass:"machine",attrs:{src:t.iconUrl,alt:""}})},A=[],$={name:"Machine",props:{machine:{type:Object,default:function(){return{}}}},data:function(){return{publicPath:"/pdes-tp-buggysoft/"}},computed:{iconUrl:function(){return"".concat(this.publicPath,"machines/").concat(this.machine.icon)}}},P=$,S=(n("3fbd"),Object(r["a"])(P,T,A,!1,null,null,null)),E=S.exports,B={name:"Cell",components:{Machine:E},props:{position:Array},computed:Object(x["a"])({},Object(m["d"])(["rows"]),{content:function(){var t=Object(w["a"])(this.position,2),e=t[0],n=t[1];return this.rows[e][n]||{machine:{}}}}),methods:Object(x["a"])({},Object(m["c"])(["setCurrentMachine"]),Object(m["b"])(["applyActionToCell"]))},F=B,D=(n("7ea3"),Object(r["a"])(F,O,j,!1,null,null,null)),q=D.exports,L={name:"Row",components:{Cell:q},props:{number:Number,columns:Array}},R=L,J=(n("b27c"),Object(r["a"])(R,M,k,!1,null,"1dd20c65",null)),N=J.exports,U={name:"Factory",components:{Row:N},props:{rows:Array},methods:{gameLoop:function(){console.log("Tick"),this.$store.state.running&&this.rows.forEach(function(t){t.forEach(function(t){t.machine.tick&&t.machine.tick()})}),setTimeout(this.gameLoop.bind(this),this.$store.state.tickDelay)}},mounted:function(){this.gameLoop()}},G=U,z=(n("18c4"),Object(r["a"])(G,_,C,!1,null,"5e4f5e04",null)),H=z.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar"},[n("p",{staticClass:"text-primary hp1"},[t._v("Maquinas")]),n("div",{staticClass:"section no-padding"},t._l(t.machines,function(e){return n("Button",{key:e.name,attrs:{type:e.name===t.currentMachine.name?"active":"",disabled:e.cost>t.earnings},on:{click:function(n){return t.pickMachineToPlace(e)}}},[n("Machine",{attrs:{machine:e}})],1)}),1),n("br"),n("p",{staticClass:"text-primary hp1"},[t._v("Edici√≥n")]),n("div",{staticClass:"section no-padding"},[n("Button",{attrs:{type:"remove"===t.action?"active":""},on:{click:function(e){return t.setAction("remove")}}},[n("img",{attrs:{src:t.publicPath+"actions/remove.png",alt:""}})]),n("Button",{attrs:{type:"move"===t.action?"active":""},on:{click:function(e){return t.setAction("move")}}},[n("img",{attrs:{src:t.publicPath+"actions/move.png",alt:""}})]),n("Button",{attrs:{type:"rotate"===t.action?"active":""},on:{click:function(e){return t.setAction("rotate")}}},[n("img",{attrs:{src:t.publicPath+"actions/rotate.png",alt:""}})])],1)])},K=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:[t.type,t.disabled?"disabled":"","square-button"],on:{click:t.handleClick}},[t._t("default")],2)},V=[],W={name:"Button",props:{type:String,disabled:Boolean},methods:{handleClick:function(){this.disabled||this.$emit("click")}}},X=W,Y=(n("ef55"),Object(r["a"])(X,Q,V,!1,null,null,null)),Z=Y.exports,tt={name:"ToolBox",components:{Button:Z,Machine:E},data:function(){return{publicPath:"/pdes-tp-buggysoft/"}},computed:Object(m["d"])(["currentMachine","machines","action","earnings"]),methods:Object(x["a"])({},Object(m["b"])(["setAction","pickMachineToPlace"]))},et=tt,nt=Object(r["a"])(et,I,K,!1,null,null,null),ct=nt.exports,at={name:"home",components:{Details:y,Factory:H,ToolBox:ct},computed:Object(m["d"])(["earnings","rows","machines","currentMachine"])},it=at,rt=(n("21bb"),Object(r["a"])(it,p,f,!1,null,null,null)),ot=rt.exports;c["a"].use(l["a"]);var st=new l["a"]({routes:[{path:"/",name:"home",component:ot}]}),ut={setCurrentMachine:function(t,e){t.currentMachine=e},clearCurrentMachine:function(t){t.currentMachine={}},setCellMachine:function(t,e){var n=Object(w["a"])(e,2),a=n[0],i=n[1];c["a"].set(t.rows[a],i,{machine:t.currentMachine})},buyMachine:function(t,e){t.earnings-=e.cost},setAction:function(t,e){t.action=e},startSimulation:function(t){t.running=!0},stopSimulation:function(t){t.running=!1}},lt=(n("7f7f"),{applyActionToCell:function(t,e){var n=t.commit,c=t.state;c.cellActions[c.action]({commit:n,state:c},e)},setAction:function(t,e){var n=t.commit;n("setAction",e),n("clearCurrentMachine")},pickMachineToPlace:function(t,e){var n=t.commit;n("setCurrentMachine",e),n("setAction","place")},place:function(t,e){var n=t.commit,c=t.state,a=Object(w["a"])(e,2),i=a[0],r=a[1],o=c.rows[i][r].machine;o.name?(n("setCurrentMachine",o),n("setAction","select")):c.currentMachine.cost<=c.earnings&&(n("buyMachine",c.currentMachine),n("setCellMachine",e))},select:function(t,e){var n=t.commit,c=t.state,a=Object(w["a"])(e,2),i=a[0],r=a[1],o=c.rows[i][r].machine;n("setCurrentMachine",o)}}),pt=n("75fc");function ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.machine=t}function mt(t){return Object(pt["a"])(Array(t).keys()).map(function(){return new ft})}function ht(t,e){return Object(pt["a"])(Array(t).keys()).map(function(){return mt(e)})}var dt=12,bt=12,vt=lt.place,gt=lt.select,yt={earnings:1e3,tickDelay:1e3,running:!0,currentMachine:{},action:"place",cellActions:{place:vt,remove:function(){},move:function(){},rotate:function(){},select:gt},machines:[{name:"Starter",cost:100,speed:1,icon:"in.png",tick:function(){console.log("Tick Starter")}},{name:"Seller",cost:75,speed:1,icon:"seller.png",tick:function(){console.log("Tick Seller")}},{name:"Crafter",cost:200,speed:1,icon:"crafter.png",tick:function(){console.log("Tick Crafter")}},{name:"Transporter",cost:100,speed:1,icon:"transporter.png",tick:function(){console.log("Tick Transporter")}},{name:"Furnace",cost:100,speed:1,icon:"furnace.png",tick:function(){console.log("Tick Furnace")}}],rows:ht(dt,bt)};c["a"].use(m["a"]);var _t={},Ct=new m["a"].Store({state:yt,mutations:ut,actions:lt,modules:_t});c["a"].config.productionTip=!1,new c["a"]({router:st,store:Ct,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var c=n("5e27"),a=n.n(c);a.a},"5e27":function(t,e,n){},"6f01":function(t,e,n){},"7e18":function(t,e,n){},"7ea3":function(t,e,n){"use strict";var c=n("dd95"),a=n.n(c);a.a},9981:function(t,e,n){},b27c:function(t,e,n){"use strict";var c=n("6f01"),a=n.n(c);a.a},b35e:function(t,e,n){t.exports=n.p+"img/buggysoft-logo-w.7be831b4.png"},bcc9:function(t,e,n){},c76d:function(t,e,n){},dd95:function(t,e,n){},ef55:function(t,e,n){"use strict";var c=n("c76d"),a=n.n(c);a.a}});
//# sourceMappingURL=app.eab7d3c9.js.map