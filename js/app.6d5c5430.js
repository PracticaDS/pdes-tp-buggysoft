(function(t){function n(n){for(var i,o,r=n[0],s=n[1],l=n[2],p=0,m=[];p<r.length;p++)o=r[p],c[o]&&m.push(c[o][0]),c[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);u&&u(n);while(m.length)m.shift()();return a.push.apply(a,l||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],i=!0,r=1;r<e.length;r++){var s=e[r];0!==c[s]&&(i=!1)}i&&(a.splice(n--,1),t=o(o.s=e[0]))}return t}var i={},c={app:0},a=[];function o(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/pdes-tp-buggysoft/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=n,r=r.slice();for(var l=0;l<r.length;l++)n(r[l]);var u=s;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"109c":function(t,n,e){},"21bb":function(t,n,e){"use strict";var i=e("bcc9"),c=e.n(i);c.a},"3fbd":function(t,n,e){"use strict";var i=e("9981"),c=e.n(i);c.a},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},a=[],o=(e("5c0b"),e("2877")),r={},s=Object(o["a"])(r,c,a,!1,null,null,null),l=s.exports,u=e("8c4f"),p=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home p1"},[e("div",{staticClass:"p1"},[e("span",{staticClass:"text-primary"},[t._v("Ganancias ")]),e("span",{staticClass:"label"},[t._v("$"+t._s(Number(t.earnings).toFixed(2)))])]),e("div",{staticClass:"flex"},[e("ToolBox"),e("Factory",{attrs:{rows:t.rows}}),e("Details",{attrs:{currentMachine:t.currentMachine}})],1),t._m(0)])},m=[function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("footer",[i("p",{staticClass:"text-small subtle"},[t._v("A game developed by")]),i("img",{staticClass:"hover",attrs:{height:"200px",alt:"Buggysoft logo",src:e("b35e")}})])}],f=e("2f62"),h=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"details toolbar"},[e("p",{staticClass:"text-primary hp1"},[t._v("Detalles")]),t.currentMachine.name?e("div",{staticClass:"section text-small"},[e("p",[t._v(t._s(t.currentMachine.name))]),e("p",[t._v("Costo: "),e("span",{staticClass:"text-accent"},[t._v("$"+t._s(t.currentMachine.cost))])]),e("p",[t._v("Frecuencia: "),e("span",{staticClass:"text-accent"},[t._v(t._s(t.currentMachine.speed)+"/s")])])]):e("div",{staticClass:"section text-small"},[e("i",[t._v("Seleccione una maquina")])])])},d=[],v={name:"Details",props:{currentMachine:Object}},b=v,g=(e("fd4f"),Object(o["a"])(b,h,d,!1,null,null,null)),C=g.exports,y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("Factory",{attrs:{rows:t.rows,tickDelay:t.tickDelay,running:t.running}})},_=[],O=e("cebc"),M=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"grid"},t._l(t.rows,function(t,n){return e("Row",{key:n,attrs:{number:n,columns:t}})}),1)},w=[],A=(e("ac6a"),e("c5f6"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},t._l(t.columns,function(n,i){return e("Cell",{key:i,attrs:{position:[t.number,i]}})}),1)}),j=[],k=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("Cell",{attrs:{position:t.position,content:t.content},on:{applyActionToCell:t.applyActionToCell,stopAnimation:function(n){return t.stopAnimation(t.position)}}})},x=[],T=e("768b"),$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"cell",on:{click:t.applyActionToCell}},[e("transition",{attrs:{name:"fade"}},[t.content.machine.name?e("div",{staticClass:"machine-container"},[e("Machine",{attrs:{machine:t.content.machine},on:{stopAnimation:function(n){return t.$emit("stopAnimation")}}})],1):t._e()])],1)},E=[],B=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("img",{class:["machine",t.orientation,t.animated?"animated":""],attrs:{src:t.iconUrl,alt:""}})},S=[],P={name:"Machine",props:{machine:{type:Object,default:function(){return{}}}},data:function(){return{publicPath:"/pdes-tp-buggysoft/"}},computed:{iconUrl:function(){return"".concat(this.publicPath,"machines/").concat(this.machine.icon)},orientation:function(){return this.machine.orientation},animated:function(){return this.machine.animated}},watch:{machine:function(t){var n=this;t.animated&&setTimeout(function(){n.$emit("stopAnimation")},225)}}},D=P,F=(e("3fbd"),Object(o["a"])(D,B,S,!1,null,null,null)),q=F.exports,L={name:"Cell",components:{Machine:q},props:{content:Object,position:Array},methods:{applyActionToCell:function(){this.$emit("applyActionToCell",this.position)}}},N=L,R=(e("7ea3"),Object(o["a"])(N,$,E,!1,null,null,null)),I=R.exports,J={name:"Cell-Wrapper",components:{Cell:I},props:{position:Array},computed:Object(O["a"])({},Object(f["d"])(["rows"]),{content:function(){var t=Object(T["a"])(this.position,2),n=t[0],e=t[1];return this.rows[n][e]||{machine:{}}}}),methods:Object(O["a"])({},Object(f["c"])(["setCurrentMachine","stopAnimation"]),Object(f["b"])(["applyActionToCell"]))},U=J,W=Object(o["a"])(U,k,x,!1,null,"c82736c6",null),G=W.exports,z={name:"Row",components:{Cell:G},props:{number:Number,columns:Array}},H=z,K=(e("b2f8"),Object(o["a"])(H,A,j,!1,null,"78977fff",null)),Q=K.exports,V={name:"Factory",components:{Row:Q},props:{rows:Array,tickDelay:Number,running:Boolean},methods:{gameLoop:function(){console.log("Tick"),this.running&&this.rows.forEach(function(t){t.forEach(function(t){t.machine.tick&&t.machine.tick()})}),setTimeout(this.gameLoop.bind(this),this.tickDelay)}},mounted:function(){this.gameLoop()}},X=V,Y=(e("5b77"),Object(o["a"])(X,M,w,!1,null,"da0873a0",null)),Z=Y.exports,tt={name:"Factory-Wrapper",props:{rows:Array},components:{Factory:Z},computed:Object(O["a"])({},Object(f["d"])(["tickDelay","running"]))},nt=tt,et=Object(o["a"])(nt,y,_,!1,null,"49f7b804",null),it=et.exports,ct=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"toolbar"},[e("p",{staticClass:"text-primary hp1"},[t._v("Maquinas")]),e("div",{staticClass:"section no-padding"},t._l(t.machines,function(n){return e("Button",{key:n.name,attrs:{type:n.name===t.currentMachine.name?"active":"",disabled:n.cost>t.earnings},on:{click:function(e){return t.pickMachineToPlace(n)}}},[e("Machine",{attrs:{machine:n}})],1)}),1),e("br"),e("p",{staticClass:"text-primary hp1"},[t._v("EdiciÃ³n")]),e("div",{staticClass:"section no-padding"},[e("ActionButton",{attrs:{action:"remove",active:"remove"===t.action},on:{click:function(n){return t.setAction("remove")}}}),e("ActionButton",{attrs:{action:"move",active:"move"===t.action},on:{click:function(n){return t.setAction("move")}}}),e("ActionButton",{attrs:{action:"rotate",active:"rotate"===t.action},on:{click:function(n){return t.setAction("rotate")}}})],1)])},at=[],ot=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("button",{class:[t.type,t.disabled?"disabled":"","square-button"],on:{click:t.handleClick}},[t._t("default")],2)},rt=[],st={name:"Button",props:{type:String,disabled:Boolean},methods:{handleClick:function(){this.disabled||this.$emit("click")}}},lt=st,ut=(e("ef55"),Object(o["a"])(lt,ot,rt,!1,null,null,null)),pt=ut.exports,mt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("Button",{attrs:{type:t.active?"active":""},on:{click:function(n){return t.$emit("click")}}},[e("img",{attrs:{src:t.publicPath+"actions/"+t.action+".png",alt:""}})])},ft=[],ht={name:"ActionButton",components:{Button:pt},props:{action:String,active:Boolean},data:function(){return{publicPath:"/pdes-tp-buggysoft/"}}},dt=ht,vt=Object(o["a"])(dt,mt,ft,!1,null,"2082a286",null),bt=vt.exports,gt={name:"ToolBox",components:{ActionButton:bt,Button:pt,Machine:q},computed:Object(f["d"])(["currentMachine","machines","action","earnings"]),methods:Object(O["a"])({},Object(f["b"])(["setAction","pickMachineToPlace"]))},Ct=gt,yt=Object(o["a"])(Ct,ct,at,!1,null,null,null),_t=yt.exports,Ot={name:"home",components:{Details:C,Factory:it,ToolBox:_t},computed:Object(f["d"])(["earnings","rows","machines","currentMachine"])},Mt=Ot,wt=(e("21bb"),Object(o["a"])(Mt,p,m,!1,null,null,null)),At=wt.exports;i["a"].use(u["a"]);var jt=new u["a"]({routes:[{path:"/",name:"home",component:At}]});e("7f7f");function kt(t){this.name=t.name,this.icon=t.icon,this.orientation=t.orientation,this.tick=t.tick,this.cost=t.cost,this.speed=t.speed,this.animated=t.animated}function xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.machine=t}var Tt={setCurrentMachine:function(t,n){t.currentMachine=n},clearCurrentMachine:function(t){t.currentMachine={}},setCellMachine:function(t,n){var e=Object(T["a"])(n,2),c=e[0],a=e[1];i["a"].set(t.rows[c],a,{machine:t.currentMachine})},setActionOriginCell:function(t,n){t.actionOriginCell=n},buyMachine:function(t,n){t.earnings-=n.cost},rotateMachineInCell:function(t,n){var e=n.cell,i=n.orientation,c=Object(T["a"])(e,2),a=c[0],o=c[1],r=t.rows[a][o].machine;t.rows[a][o].machine=new kt(Object(O["a"])({},r,{orientation:i,animated:!0}))},stopAnimation:function(t,n){var e=Object(T["a"])(n,2),i=e[0],c=e[1],a=t.rows[i][c].machine;t.rows[i][c].machine=new kt(Object(O["a"])({},a,{animated:!1}))},increaseEarnings:function(t,n){t.earnings+=n},setAction:function(t,n){t.action=n},startSimulation:function(t){t.running=!0},stopSimulation:function(t){t.running=!1}},$t=e("75fc");function Et(t){return Object($t["a"])(Array(t).keys()).map(function(){return new xt})}function Bt(t,n){return Object($t["a"])(Array(t).keys()).map(function(){return Et(n)})}function St(t,n){var e=Object(T["a"])(t,2),i=e[0],c=e[1];return n.rows[i][c]}function Pt(t,n){return St(t,n).machine}var Dt={applyActionToCell:function(t,n){var e=t.commit,i=t.state;i.cellActions[i.action]({commit:e,state:i},n)},setAction:function(t,n){var e=t.commit;e("setAction",n),e("clearCurrentMachine")},pickMachineToPlace:function(t,n){var e=t.commit;e("setCurrentMachine",new kt(n)),e("setAction","place")},place:function(t,n){var e=t.commit,i=t.state,c=Pt(n,i);c.name?(e("setCurrentMachine",c),e("setAction","select")):i.currentMachine.cost<=i.earnings&&(e("buyMachine",i.currentMachine),e("setCellMachine",n))},select:function(t,n){var e=t.commit,i=t.state,c=Pt(n,i);e("setCurrentMachine",c)},remove:function(t,n){var e=t.commit,i=t.state,c=Pt(n,i);c.name&&(e("increaseEarnings",c.cost),e("clearCurrentMachine"),e("setCellMachine",n))},move:function(t,n){var e=t.commit,i=t.state,c=Pt(n,i);c.name&&!i.actionOriginCell?(e("setCurrentMachine",c),e("setActionOriginCell",n)):c.name?(e("setCurrentMachine",c),e("setAction","select"),e("setActionOriginCell",null)):(e("setCellMachine",n),e("clearCurrentMachine"),e("setCellMachine",i.actionOriginCell),e("setActionOriginCell",null))},rotate:function(t,n){var e=t.commit,i=t.state,c=Pt(n,i);if(c.name){var a={up:"right",right:"down",down:"left",left:"up"},o=a[c.orientation];e("rotateMachineInCell",{cell:n,orientation:o})}else e("setAction","select")}},Ft=12,qt=12,Lt=Dt.place,Nt=Dt.select,Rt=Dt.remove,It=Dt.move,Jt=Dt.rotate,Ut={earnings:1e3,tickDelay:1e3,running:!0,currentMachine:{},action:"place",actionOriginCell:null,cellActions:{place:Lt,remove:Rt,move:It,rotate:Jt,select:Nt},machines:[{name:"Starter",cost:100,speed:1,icon:"in.png",orientation:"up",tick:function(){console.log("Tick Starter")}},{name:"Seller",cost:75,speed:1,icon:"seller.png",orientation:"up",tick:function(){console.log("Tick Seller")}},{name:"Crafter",cost:200,speed:1,icon:"crafter.png",orientation:"up",tick:function(){console.log("Tick Crafter")}},{name:"Transporter",cost:100,speed:1,icon:"transporter.png",orientation:"down",tick:function(){console.log("Tick Transporter")}},{name:"Furnace",cost:100,speed:1,icon:"furnace.png",orientation:"up",tick:function(){console.log("Tick Furnace")}}],rows:Bt(Ft,qt)};i["a"].use(f["a"]);var Wt={},Gt=new f["a"].Store({state:Ut,mutations:Tt,actions:Dt,modules:Wt});i["a"].config.productionTip=!1,new i["a"]({router:jt,store:Gt,render:function(t){return t(l)}}).$mount("#app")},"5b77":function(t,n,e){"use strict";var i=e("e1e5"),c=e.n(i);c.a},"5c0b":function(t,n,e){"use strict";var i=e("5e27"),c=e.n(i);c.a},"5e27":function(t,n,e){},"63c6":function(t,n,e){},"7ea3":function(t,n,e){"use strict";var i=e("dd95"),c=e.n(i);c.a},9981:function(t,n,e){},b2f8:function(t,n,e){"use strict";var i=e("109c"),c=e.n(i);c.a},b35e:function(t,n,e){t.exports=e.p+"img/buggysoft-logo-w.7be831b4.png"},bcc9:function(t,n,e){},c76d:function(t,n,e){},dd95:function(t,n,e){},e1e5:function(t,n,e){},ef55:function(t,n,e){"use strict";var i=e("c76d"),c=e.n(i);c.a},fd4f:function(t,n,e){"use strict";var i=e("63c6"),c=e.n(i);c.a}});
//# sourceMappingURL=app.6d5c5430.js.map